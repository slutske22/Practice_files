<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="initial-scale=1,maximum-scale=1,user-scalable=no"
		/>
		<title>MapImageLayer - set renderers on sublayers - 4.17</title>

		<link
			rel="stylesheet"
			href="https://js.arcgis.com/4.17/esri/css/main.css"
		/>
		<script src="https://js.arcgis.com/4.17/"></script>

		<style>
			html,
			body,
			#viewDiv {
				padding: 0;
				margin: 0;
				height: 100%;
				width: 100%;
			}
		</style>

		<script>
			require([
				'esri/Map',
				'esri/views/MapView',
				'esri/layers/MapImageLayer',
				'esri/core/urlUtils',
				'dojo/domReady!',
			], function (Map, MapView, MapImageLayer, urlUtils) {
				urlUtils.addProxyRule({
					urlPrefix: 'maps.disasters.nasa.gov',
					proxyUrl: 'https://cors-anywhere.herokuapp.com/',
				});

				var layer = new MapImageLayer({
					url:
						'https://maps.disasters.nasa.gov/ags04/rest/services/ca_fires_202008/sentinel2/MapServer',
					sublayers: [
						{
							id: 549,
						},
					],
				});

				var map = new Map({
					basemap: 'dark-gray',
					layers: [layer],
				});

				var view = new MapView({
					container: 'viewDiv',
					map: map,
					zoom: 6,
					center: [-119, 36.921],
				});
			});
		</script>
	</head>
	<body>
		<div id="viewDiv"></div>
	</body>
</html>
